# Выбор локации для скважины

## Данные

Данные геологоразведки трёх регионов

## Задача

Проанализировав характеристики скважин: качество нефти и объём её запасов, построить модель для предсказания объёма запасов в новых скважинах, отобрать скважины с самыми высокими оценками значений и определить т регион с максимальной суммарной прибылью.

## Используемые библиотеки
*pandas, numpy, sklearn, matplotlib, seaborn, math, scipy, phik*

## Используемые методы
*LinearRegression, LogisticRegression, train_test_split, StandardScaler, OneHotEncoder, SimpleImputer, ColumnTransformer, OrdinalEncoder, LabelEncoder, MinMaxScaler, RobustScaler, PowerTransformer, PolynomialFeaturesconfusion_matrix, normaltest, shapiro, anderson, pearsonr, qqplot, Pipeline, train_test_split, RandomizedSearchCV, permutation_importance*

## Метрики
*accuracy_score, precision_score, recall_score, r2_score, mean_squared_error, mean_absolute_error, roc_auc_score, f1_score, make_scorer, confusion_matrix*

## Выводы

Для работы модели (кодирование признаков) был использован пайплайн. Модель: Линейная регрессия (по условию задачи).

Были обучены модели на исходных данных. Затем проведена работа по подбору признаков: категоризация признаков не дала результата. А вот удаление признака f2 для 2го региона привело модель к более адекватным результатам. В дальнейшем эти данные будем использовать, как основные для региона 2, а исходные - для сравнения.

Средние предсказанные значения объемов запасов практически совпадают с реальными средними запасами по каждому региону. Метрика RMSE минимальна в первом регионе (37,7) и максимальна во 2м регионе без f2 (45,9). Т.е. модель показывает лучшие предсказания на регионе 1.

При подготовке к расчету прибыли базовые параметры расчетов сохранены в переменных. Рассчитана точка безубыточности как объем запасов одной скважины, которая составила 111,11 тыс. баррелей.

Определено, что точке безубыточности соответствуют: 36% скважин в первом регионе, 16% скважин во 2м реионе, 38% скважин в 3м регионе.

С примененим функции рассчитаны:

Прибыль от разработки 200 скважин в каждом регионе: максимальная в регионе 1, в регионе 2 - убытки;
Маржинальность по регионам, соотв-но: 23,5%, -59,6%, 21%
ROI: -69,2%, -137,3%Б -73,4%
По данным показателям лучшие резултаты показывает регион 1, регион 2 - убыточен и показывает худшие результаты из 3х регионов.

С применением функций и техники Bootstrap с 1000 выборок рассчитаны:

Распределение прибыли: средняя прибыль максимальна в регионе 1, в регионе 2 - убытки.
95%й Доверительный интервал: оптимальный для региона 1
Вероятность убытков: минимальная величина в регионе 1, в регионе 2 - 100%.
При этом заданному критерию: вероятность убытков 2,5%, не соответствует ни один регион.

Общая рекомендация:

Снизив критерий "вероятность убытков" до 3,5-4%, в качестве оптимального следует выбрать регион 1. Здесь отмечены 2е по объему запасы продукта, максимальный расчетный показатель прибыли и минимальные расчетные показатели вероятности убытков.
